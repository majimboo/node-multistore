'use strict';

var assert  = require('assert');
var msgpack = require('msgpack');
var util    = require('util');
var purr    = require('../../');

var extFormatFamily = [ 0xd4, 0xd5, 0xd6, 0xd7, 0xd8, 0xc7, 0xc8, 0xc9 ];

describe('Date::pack', function() {
  it('should return a extended type', function(done) {
    var date   = new purr.Date(1397554144485); // Tue Apr 15 2014 00:00:00 GMT+0800 (PHT)
    var packed = purr.pack(date);

    var isExtType = extFormatFamily.indexOf(packed[0]) !== -1;

    assert.ok(isExtType, 'packed object is not using ext type');

    done();
  });
});

