#ifndef MSGPACK_EXCEPTION_HPP__
#define MSGPACK_EXCEPTION_HPP__

// An exception class that wraps a textual message
class MsgpackException {
    public:
        MsgpackException(const char *str) :
            msg(NanNew<String>(str)) {
        }

        Handle<Value> getThrownException() {
            return Exception::TypeError(msg);
        }

    private:
        const Handle<String> msg;
};

#endif
